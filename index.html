<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ColorBday</title>
<link rel="icon" href="icon.JPG">

<style>
body{
  font-family:'Helvetica Neue',Arial,sans-serif;
  margin:0;background:#FFF7D6;color:#000;
}
header{
  position:sticky;top:0;background:#FFF7D6;
  padding:20px 28px;border-bottom:2px solid #000;
  display:flex;flex-direction:column;gap:12px;z-index:10;
}
h1{margin:0;font-size:28px;font-weight:900;
  padding:6px 10px;border:2px solid #000;cursor:pointer;}
.selectors select{
  padding:8px 10px;font-size:16px;border:2px solid #000;
  background:#fff;border-radius:6px;margin-right:10px;
}

/* grid */
.grid{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:28px;padding:40px 60px;justify-items:center;
}
.color-box{
  width:180px;border:2px solid #000;background:#fff;
  cursor:pointer;transition:.2s;
}
.color-box:hover{transform:translateY(-6px);box-shadow:0 8px 16px rgba(0,0,0,.2);}
.swatch{height:150px;border-bottom:2px solid #000;}
.info{padding:12px;}
.label{font-weight:900;font-size:18px;}
.code{font-size:14px;opacity:.7;margin-top:4px;}

/* single */
.single-view{
  display:grid;grid-template-columns:2fr 1fr;
  gap:40px;padding:60px;
}
.single-card{border:2px solid #000;background:#fff;}
.single-swatch{height:380px;border-bottom:2px solid #000;}
.single-info{padding:20px;}

.info-panel{
  border-left:2px solid #000;padding-left:28px;
  display:flex;flex-direction:column;gap:18px;
}
.muted{opacity:.7;font-size:14px;}
.keywords{font-weight:700;font-size:16px;}
.desc{font-size:14px;line-height:1.4;}

@media(max-width:900px){
  .single-view{grid-template-columns:1fr;}
  .info-panel{border-left:none;border-top:2px solid #000;padding-left:0;padding-top:24px;}
}
</style>
</head>

<body>

<header>
<h1 id="logo">ColorBday</h1>
<div class="selectors">
<select id="month"><option value="">月份</option></select>
<select id="day"><option value="">日期</option></select>
</div>
</header>

<div id="content"></div>

<script>
function isLeapYear(y){return(y%4===0&&y%100!==0)||y%400===0;}
function isValidDate(m,d,y){
  const days=[31,isLeapYear(y)?29:28,31,30,31,30,31,31,30,31,30,31];
  return d<=days[m-1];
}

function generateColor(seed){
  const h=(seed*47)%360,s=22+(seed%10),l=62+(seed%8);
  return{h,s,l,css:`hsl(${h},${s}%,${l}%)`};
}

function attributes(h,s,l){
  const tone=l>=66?"Soft":"Deep";
  const mood=s>=28?"Bold":"Calm";
  let c="Quiet";
  if(h>=30&&h<90)c="Warm";
  else if(h>=90&&h<170)c="Balanced";
  else if(h>=170&&h<250)c="Reflective";
  return`${tone} · ${mood} · ${c}`;
}

function family(h){
  if(h<60)return"Warm Yellow";
  if(h<120)return"Soft Green";
  if(h<200)return"Muted Blue-Green";
  if(h<280)return"Quiet Blue";
  return"Deep Violet";
}

function keywords(h){
  if(h<90)return["Warm Light","Morning Air","Gentle Focus"];
  if(h<170)return["Balanced Tone","Open Field","Soft Motion"];
  if(h<250)return["Quiet Blue","Winter Air","Deep Focus"];
  return["Muted Shade","Night Calm","Still Space"];
}

function description(h,s,l){
  if(l>66&&s<26)return"A soft and distant tone that feels calm and steady.";
  if(s>28)return"A clear and expressive color with quiet confidence.";
  return"A balanced shade that stays subtle and composed.";
}

const mSel=document.getElementById("month"),
      dSel=document.getElementById("day"),
      content=document.getElementById("content");

for(let m=1;m<=12;m++)mSel.innerHTML+=`<option value="${m}">${m} 月</option>`;
for(let d=1;d<=31;d++)dSel.innerHTML+=`<option value="${d}">${d} 日</option>`;

function renderAll(){
  mSel.value="";dSel.value="";
  const y=new Date().getFullYear();
  let html=`<div class="grid">`;
  for(let m=1;m<=12;m++)for(let d=1;d<=31;d++){
    if(!isValidDate(m,d,y))continue;
    const code=`${String(m).padStart(2,"0")}${String(d).padStart(2,"0")}`;
    const c=generateColor(m*31+d);
    html+=`
    <div class="color-box" data-code="${code}">
      <div class="swatch" style="background:${c.css}"></div>
      <div class="info">
        <div class="label">COLORBDAY</div>
        <div class="code">${code} TPG</div>
      </div>
    </div>`;
  }
  content.innerHTML=html+`</div>`;
}

function renderSingle(code){
  const m=+code.slice(0,2),d=+code.slice(2,4);
  mSel.value=m;dSel.value=d;
  const seed=m*31+d,c=generateColor(seed);
  content.innerHTML=`
  <div class="single-view">
    <div class="single-card">
      <div class="single-swatch" style="background:${c.css}"></div>
      <div class="single-info">
        <div class="label">COLORBDAY</div>
        <div class="code">${code} TPG</div>
      </div>
    </div>

    <div class="info-panel">
      <div class="muted">Day ${seed} of 365</div>
      <div class="keywords">${attributes(c.h,c.s,c.l)}</div>

      <div class="muted">Color Family</div>
      <div>${family(c.h)}</div>

      <div class="muted">Color Data</div>
      <div>H ${Math.round(c.h)}° · S ${c.s}% · L ${c.l}%</div>

      ${keywords(c.h).map(k=>`<div class="muted">${k}</div>`).join("")}

      <div class="desc">${description(c.h,c.s,c.l)}</div>
    </div>
  </div>`;
}

content.onclick=e=>{
  const card=e.target.closest(".color-box");
  if(card)renderSingle(card.dataset.code);
};
mSel.onchange=dSel.onchange=()=>{
  if(mSel.value&&dSel.value)
    renderSingle(`${String(mSel.value).padStart(2,"0")}${String(dSel.value).padStart(2,"0")}`);
};
document.getElementById("logo").onclick=renderAll;

renderAll();
</script>

</body>
</html>

